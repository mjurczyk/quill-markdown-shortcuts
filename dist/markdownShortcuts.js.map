{"version":3,"sources":["webpack:///webpack/bootstrap 738ec63cf66bc4903d9e","webpack:///./src/index.js","webpack:///./src/formats/hr.js"],"names":["MarkdownShortcuts","quill","options","register","matches","name","pattern","action","text","selection","size","trim","length","setTimeout","formatLine","index","deleteText","lineStart","match","exec","annotatedText","matchedText","startIndex","insertText","bold","italic","format","strike","code","getSelection","insertEmbed","Quill","sources","USER","SILENT","setSelection","search","hrefLink","start","slice","hrefText","on","delta","oldContents","source","i","ops","hasOwnProperty","insert","onSpace","onEnter","getLine","line","offset","domNode","textContent","console","log","module","exports","getHorizontalRule","BlockEmbed","import","HorizontalRule","blotName","tagName"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;qjBC7DC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED;;;;IAEaA,iB,WAAAA,iB;AACX,6BAAaC,KAAb,EAAoBC,OAApB,EAA6B;AAAA;;AAAA;;AAC3B,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeA,OAAf;;AAEAD,UAAME,QAAN,CAAe,oBAAf,EAAqC,2BAAkBF,KAAlB,CAArC;;AAEA,SAAKG,OAAL,GAAe,CACb;AACEC,YAAM,QADR;AAEEC,eAAS,cAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAqB;AAC3B,YAAMC,OAAOF,KAAKG,IAAL,GAAYC,MAAzB;AACA;AACAC,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWa,UAAX,CAAsBL,UAAUM,KAAhC,EAAuC,CAAvC,EAA0C,QAA1C,EAAoDL,IAApD;AACA,gBAAKT,KAAL,CAAWe,UAAX,CAAsBP,UAAUM,KAAV,GAAkBP,KAAKI,MAA7C,EAAqDJ,KAAKI,MAA1D;AACD,SAHD,EAGG,CAHH;AAID;AAVH,KADa,EAab;AACEP,YAAM,YADR;AAEEC,eAAS,SAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAqB;AAC3B;AACAI,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWa,UAAX,CAAsBL,UAAUM,KAAhC,EAAuC,CAAvC,EAA0C,YAA1C,EAAwD,IAAxD;AACA,gBAAKd,KAAL,CAAWe,UAAX,CAAsBP,UAAUM,KAAV,GAAkB,CAAxC,EAA2C,CAA3C;AACD,SAHD,EAGG,CAHH;AAID;AATH,KAba,EAwBb;AACEV,YAAM,YADR;AAEEC,eAAS,iBAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAqB;AAC3B;AACAI,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWa,UAAX,CAAsBL,UAAUM,KAAhC,EAAuC,CAAvC,EAA0C,YAA1C,EAAwD,IAAxD;AACA,gBAAKd,KAAL,CAAWe,UAAX,CAAsBP,UAAUM,KAAV,GAAkB,CAAxC,EAA2C,CAA3C;AACD,SAHD,EAGG,CAHH;AAID;AATH,KAxBa,EAmCb;AACEV,YAAM,YADR;AAEEC,eAAS,8BAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA2BW,SAA3B,EAAyC;AAC/C,YAAIC,QAAQZ,QAAQa,IAAR,CAAaX,IAAb,CAAZ;;AAEA,YAAMY,gBAAgBF,MAAM,CAAN,CAAtB;AACA,YAAMG,cAAcH,MAAM,CAAN,CAApB;AACA,YAAMI,aAAaL,YAAYC,MAAMH,KAArC;;AAEA,YAAIP,KAAKU,KAAL,CAAW,eAAX,CAAJ,EAAiC;;AAEjCL,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCF,cAAcR,MAAhD;AACA,gBAAKX,KAAL,CAAWsB,UAAX,CAAsBD,UAAtB,EAAkCD,WAAlC,EAA+C,EAACG,MAAM,IAAP,EAAaC,QAAQ,IAArB,EAA/C;AACA,gBAAKxB,KAAL,CAAWyB,MAAX,CAAkB,MAAlB,EAA0B,KAA1B;AACD,SAJD,EAIG,CAJH;AAKD;AAjBH,KAnCa,EAsDb;AACErB,YAAM,MADR;AAEEC,eAAS,8BAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA2BW,SAA3B,EAAyC;AAC/C,YAAIC,QAAQZ,QAAQa,IAAR,CAAaX,IAAb,CAAZ;;AAEA,YAAMY,gBAAgBF,MAAM,CAAN,CAAtB;AACA,YAAMG,cAAcH,MAAM,CAAN,CAApB;AACA,YAAMI,aAAaL,YAAYC,MAAMH,KAArC;;AAEA,YAAIP,KAAKU,KAAL,CAAW,eAAX,CAAJ,EAAiC;;AAEjCL,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCF,cAAcR,MAAhD;AACA,gBAAKX,KAAL,CAAWsB,UAAX,CAAsBD,UAAtB,EAAkCD,WAAlC,EAA+C,EAACG,MAAM,IAAP,EAA/C;AACA,gBAAKvB,KAAL,CAAWyB,MAAX,CAAkB,MAAlB,EAA0B,KAA1B;AACD,SAJD,EAIG,CAJH;AAKD;AAjBH,KAtDa,EAyEb;AACErB,YAAM,QADR;AAEEC,eAAS,8BAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA2BW,SAA3B,EAAyC;AAC/C,YAAIC,QAAQZ,QAAQa,IAAR,CAAaX,IAAb,CAAZ;;AAEA,YAAMY,gBAAgBF,MAAM,CAAN,CAAtB;AACA,YAAMG,cAAcH,MAAM,CAAN,CAApB;AACA,YAAMI,aAAaL,YAAYC,MAAMH,KAArC;;AAEA,YAAIP,KAAKU,KAAL,CAAW,eAAX,CAAJ,EAAiC;;AAEjCL,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCF,cAAcR,MAAhD;AACA,gBAAKX,KAAL,CAAWsB,UAAX,CAAsBD,UAAtB,EAAkCD,WAAlC,EAA+C,EAACI,QAAQ,IAAT,EAA/C;AACA,gBAAKxB,KAAL,CAAWyB,MAAX,CAAkB,QAAlB,EAA4B,KAA5B;AACD,SAJD,EAIG,CAJH;AAKD;AAjBH,KAzEa,EA4Fb;AACErB,YAAM,eADR;AAEEC,eAAS,oBAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA2BW,SAA3B,EAAyC;AAC/C,YAAIC,QAAQZ,QAAQa,IAAR,CAAaX,IAAb,CAAZ;;AAEA,YAAMY,gBAAgBF,MAAM,CAAN,CAAtB;AACA,YAAMG,cAAcH,MAAM,CAAN,CAApB;AACA,YAAMI,aAAaL,YAAYC,MAAMH,KAArC;;AAEA,YAAIP,KAAKU,KAAL,CAAW,eAAX,CAAJ,EAAiC;;AAEjCL,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCF,cAAcR,MAAhD;AACA,gBAAKX,KAAL,CAAWsB,UAAX,CAAsBD,UAAtB,EAAkCD,WAAlC,EAA+C,EAACM,QAAQ,IAAT,EAA/C;AACA,gBAAK1B,KAAL,CAAWyB,MAAX,CAAkB,QAAlB,EAA4B,KAA5B;AACD,SAJD,EAIG,CAJH;AAKD;AAjBH,KA5Fa,EA+Gb;AACErB,YAAM,MADR;AAEEC,eAAS,kBAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA2BW,SAA3B,EAAyC;AAC/C,YAAIC,QAAQZ,QAAQa,IAAR,CAAaX,IAAb,CAAZ;;AAEA,YAAMY,gBAAgBF,MAAM,CAAN,CAAtB;AACA,YAAMG,cAAcH,MAAM,CAAN,CAApB;AACA,YAAMI,aAAaL,YAAYC,MAAMH,KAArC;;AAEA,YAAIP,KAAKU,KAAL,CAAW,eAAX,CAAJ,EAAiC;;AAEjCL,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCF,cAAcR,MAAhD;AACA,gBAAKX,KAAL,CAAWsB,UAAX,CAAsBD,UAAtB,EAAkCD,WAAlC,EAA+C,EAACO,MAAM,IAAP,EAA/C;AACA,gBAAK3B,KAAL,CAAWyB,MAAX,CAAkB,MAAlB,EAA0B,KAA1B;AACA,gBAAKzB,KAAL,CAAWsB,UAAX,CAAsB,MAAKtB,KAAL,CAAW4B,YAAX,EAAtB,EAAiD,GAAjD;AACD,SALD,EAKG,CALH;AAMD;AAlBH,KA/Ga,EAmIb;AACExB,YAAM,IADR;AAEEC,eAAS,gBAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAqB;AAC3B,YAAMa,aAAab,UAAUM,KAAV,GAAkBP,KAAKI,MAA1C;AACAC,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWe,UAAX,CAAsBM,UAAtB,EAAkCd,KAAKI,MAAvC;;AAEA,gBAAKX,KAAL,CAAW6B,WAAX,CAAuBR,aAAa,CAApC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmDS,MAAMC,OAAN,CAAcC,IAAjE;AACA,gBAAKhC,KAAL,CAAWsB,UAAX,CAAsBD,aAAa,CAAnC,EAAsC,IAAtC,EAA4CS,MAAMC,OAAN,CAAcE,MAA1D;AACA,gBAAKjC,KAAL,CAAWkC,YAAX,CAAwBb,aAAa,CAArC,EAAwCS,MAAMC,OAAN,CAAcE,MAAtD;AACD,SAND,EAMG,CANH;AAOD;AAZH,KAnIa,EAiJb;AACE7B,YAAM,aADR;AAEEC,eAAS,cAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA8B;AACpCO,mBAAW,YAAM;AACf,gBAAKZ,KAAL,CAAWa,UAAX,CAAsBL,UAAUM,KAAhC,EAAuC,CAAvC,EAA0C,MAA1C,EAAkD,WAAlD;AACA,gBAAKd,KAAL,CAAWe,UAAX,CAAsBP,UAAUM,KAAV,GAAkB,CAAxC,EAA2C,CAA3C;AACD,SAHD,EAGG,CAHH;AAID;AARH,KAjJa,EA2Jb;AACEV,YAAM,OADR;AAEEC,eAAS,8BAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA8B;AACpC,YAAMgB,aAAad,KAAK4B,MAAL,CAAY9B,OAAZ,CAAnB;AACA,YAAMe,cAAcb,KAAKU,KAAL,CAAWZ,OAAX,EAAoB,CAApB,CAApB;AACA;AACA,YAAM+B,WAAW7B,KAAKU,KAAL,CAAW,gBAAX,EAA6B,CAA7B,CAAjB;AACA,YAAMoB,QAAQ7B,UAAUM,KAAV,GAAkBM,YAAYT,MAA9B,GAAuC,CAArD;AACA,YAAIU,eAAe,CAAC,CAApB,EAAuB;AACrBT,qBAAW,YAAM;AACf,kBAAKZ,KAAL,CAAWe,UAAX,CAAsBsB,KAAtB,EAA6BjB,YAAYT,MAAzC;AACA,kBAAKX,KAAL,CAAW6B,WAAX,CAAuBQ,KAAvB,EAA8B,OAA9B,EAAuCD,SAASE,KAAT,CAAe,CAAf,EAAkBF,SAASzB,MAAT,GAAkB,CAApC,CAAvC;AACD,WAHD,EAGG,CAHH;AAID;AACF;AAfH,KA3Ja,EA4Kb;AACEP,YAAM,MADR;AAEEC,eAAS,6BAFX;AAGEC,cAAQ,gBAACC,IAAD,EAAOC,SAAP,EAAkBH,OAAlB,EAA8B;AACpC,YAAMgB,aAAad,KAAK4B,MAAL,CAAY9B,OAAZ,CAAnB;AACA,YAAMe,cAAcb,KAAKU,KAAL,CAAWZ,OAAX,EAAoB,CAApB,CAApB;AACA,YAAMkC,WAAWhC,KAAKU,KAAL,CAAW,gBAAX,EAA6B,CAA7B,CAAjB;AACA,YAAMmB,WAAW7B,KAAKU,KAAL,CAAW,gBAAX,EAA6B,CAA7B,CAAjB;AACA,YAAMoB,QAAQ7B,UAAUM,KAAV,GAAkBM,YAAYT,MAA9B,GAAuC,CAArD;AACA,YAAIU,eAAe,CAAC,CAApB,EAAuB;AACrBT,qBAAW,YAAM;AACf,kBAAKZ,KAAL,CAAWe,UAAX,CAAsBsB,KAAtB,EAA6BjB,YAAYT,MAAzC;AACA,kBAAKX,KAAL,CAAWsB,UAAX,CAAsBe,KAAtB,EAA6BE,SAASD,KAAT,CAAe,CAAf,EAAkBC,SAAS5B,MAAT,GAAkB,CAApC,CAA7B,EAAqE,MAArE,EAA6EyB,SAASE,KAAT,CAAe,CAAf,EAAkBF,SAASzB,MAAT,GAAkB,CAApC,CAA7E;AACD,WAHD,EAGG,CAHH;AAID;AACF;AAfH,KA5Ka,CAAf;;AA+LA;AACA,SAAKX,KAAL,CAAWwC,EAAX,CAAc,aAAd,EAA6B,UAACC,KAAD,EAAQC,WAAR,EAAqBC,MAArB,EAAgC;AAC3D,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,MAAMI,GAAN,CAAUlC,MAA9B,EAAsCiC,GAAtC,EAA2C;AACzC,YAAIH,MAAMI,GAAN,CAAUD,CAAV,EAAaE,cAAb,CAA4B,QAA5B,CAAJ,EAA2C;AACzC,cAAIL,MAAMI,GAAN,CAAUD,CAAV,EAAaG,MAAb,KAAwB,GAA5B,EAAiC;AAC/B,kBAAKC,OAAL;AACD,WAFD,MAEO,IAAIP,MAAMI,GAAN,CAAUD,CAAV,EAAaG,MAAb,KAAwB,IAA5B,EAAkC;AACvC,kBAAKE,OAAL;AACD;AACF;AACF;AACF,KAVD;AAWD;;;;8BAEU;AACT,UAAMzC,YAAY,KAAKR,KAAL,CAAW4B,YAAX,EAAlB;AACA,UAAI,CAACpB,SAAL,EAAgB;;AAFP,2BAGc,KAAKR,KAAL,CAAWkD,OAAX,CAAmB1C,UAAUM,KAA7B,CAHd;AAAA;AAAA,UAGFqC,IAHE;AAAA,UAGIC,MAHJ;;AAIT,UAAM7C,OAAO4C,KAAKE,OAAL,CAAaC,WAA1B;AACA,UAAMtC,YAAYR,UAAUM,KAAV,GAAkBsC,MAApC;AACA,UAAI,OAAO7C,IAAP,KAAgB,WAAhB,IAA+BA,IAAnC,EAAyC;AAAA;AAAA;AAAA;;AAAA;AACvC,+BAAkB,KAAKJ,OAAvB,8HAAgC;AAAA,gBAAvBc,KAAuB;;AAC9B,gBAAMG,cAAcb,KAAKU,KAAL,CAAWA,MAAMZ,OAAjB,CAApB;AACA,gBAAIe,WAAJ,EAAiB;AACf;AACAmC,sBAAQC,GAAR,CAAY,SAAZ,EAAuBvC,MAAMb,IAA7B,EAAmCG,IAAnC;AACAU,oBAAMX,MAAN,CAAaC,IAAb,EAAmBC,SAAnB,EAA8BS,MAAMZ,OAApC,EAA6CW,SAA7C;AACA;AACD;AACF;AATsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUxC;AACF;;;8BAEU;AACT,UAAIR,YAAY,KAAKR,KAAL,CAAW4B,YAAX,EAAhB;AACA,UAAI,CAACpB,SAAL,EAAgB;;AAFP,4BAGc,KAAKR,KAAL,CAAWkD,OAAX,CAAmB1C,UAAUM,KAA7B,CAHd;AAAA;AAAA,UAGFqC,IAHE;AAAA,UAGIC,MAHJ;;AAIT,UAAM7C,OAAO4C,KAAKE,OAAL,CAAaC,WAAb,GAA2B,GAAxC;AACA,UAAMtC,YAAYR,UAAUM,KAAV,GAAkBsC,MAApC;AACA5C,gBAAUG,MAAV,GAAmBH,UAAUM,KAAV,EAAnB;AACA,UAAI,OAAOP,IAAP,KAAgB,WAAhB,IAA+BA,IAAnC,EAAyC;AAAA;AAAA;AAAA;;AAAA;AACvC,gCAAkB,KAAKJ,OAAvB,mIAAgC;AAAA,gBAAvBc,KAAuB;;AAC9B,gBAAMG,cAAcb,KAAKU,KAAL,CAAWA,MAAMZ,OAAjB,CAApB;AACA,gBAAIe,WAAJ,EAAiB;AACfmC,sBAAQC,GAAR,CAAY,SAAZ,EAAuBvC,MAAMb,IAA7B,EAAmCG,IAAnC;AACAU,oBAAMX,MAAN,CAAaC,IAAb,EAAmBC,SAAnB,EAA8BS,MAAMZ,OAApC,EAA6CW,SAA7C;AACA;AACD;AACF;AARsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASxC;AACF;;;;;;AAGHyC,OAAOC,OAAP,GAAiB3D,iBAAjB,C;;;;;;;;;;;;;;;;;;;ACzRO,IAAM4D,gDAAoB,SAApBA,iBAAoB,CAAC3D,KAAD,EAAW;AAC1C,MAAI4D,aAAa5D,MAAM6D,MAAN,CAAa,mBAAb,CAAjB;;AAD0C,MAGpCC,cAHoC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,IAGbF,UAHa;;AAI1CE,iBAAeC,QAAf,GAA0B,IAA1B;AACAD,iBAAeE,OAAf,GAAyB,IAAzB;;AAEA,SAAOF,cAAP;AACD,CARM,C","file":"markdownShortcuts.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 738ec63cf66bc4903d9e"," // Quill.js Plugin - Markdown Shortcuts\n // This is a module for the Quill.js WYSIWYG editor (https://quilljs.com/)\n // which converts text entered as markdown to rich text.\n //\n // v0.0.5\n //\n // Author: Patrick Lee (me@patricklee.nyc)\n //\n // (c) Copyright 2017 Patrick Lee (me@patricklee.nyc).\n // Permission is hereby granted, free of charge, to any person obtaining a copy\n // of this software and associated documentation files (the \"Software\"), to deal\n // in the Software without restriction, including without limitation the rights\n // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n // copies of the Software, and to permit persons to whom the Software is\n // furnished to do so, subject to the following conditions:\n //\n // The above copyright notice and this permission notice shall be included in\n // all copies or substantial portions of the Software.\n //\n // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n // THE SOFTWARE.\n //\n\nimport { getHorizontalRule } from './formats/hr'\n\nexport class MarkdownShortcuts {\n  constructor (quill, options) {\n    this.quill = quill\n    this.options = options\n\n    quill.register('formats/horizontal', getHorizontalRule(quill))\n\n    this.matches = [\n      {\n        name: 'header',\n        pattern: /^(#){1,6}\\s/g,\n        action: (text, selection) => {\n          const size = text.trim().length\n          // Need to defer this action https://github.com/quilljs/quill/issues/1134\n          setTimeout(() => {\n            this.quill.formatLine(selection.index, 0, 'header', size)\n            this.quill.deleteText(selection.index - text.length, text.length)\n          }, 0)\n        }\n      },\n      {\n        name: 'blockquote',\n        pattern: /^(>)\\s/g,\n        action: (text, selection) => {\n          // Need to defer this action https://github.com/quilljs/quill/issues/1134\n          setTimeout(() => {\n            this.quill.formatLine(selection.index, 1, 'blockquote', true)\n            this.quill.deleteText(selection.index - 2, 2)\n          }, 0)\n        }\n      },\n      {\n        name: 'code-block',\n        pattern: /^`{3}(?:\\s|\\n)/g,\n        action: (text, selection) => {\n          // Need to defer this action https://github.com/quilljs/quill/issues/1134\n          setTimeout(() => {\n            this.quill.formatLine(selection.index, 1, 'code-block', true)\n            this.quill.deleteText(selection.index - 4, 4)\n          }, 0)\n        }\n      },\n      {\n        name: 'bolditalic',\n        pattern: /(?:\\*|_){3}(.+?)(?:\\*|_){3}/g,\n        action: (text, selection, pattern, lineStart) => {\n          let match = pattern.exec(text)\n\n          const annotatedText = match[0]\n          const matchedText = match[1]\n          const startIndex = lineStart + match.index\n\n          if (text.match(/^([*_ \\n]+)$/g)) return\n\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, annotatedText.length)\n            this.quill.insertText(startIndex, matchedText, {bold: true, italic: true})\n            this.quill.format('bold', false)\n          }, 0)\n        }\n      },\n      {\n        name: 'bold',\n        pattern: /(?:\\*|_){2}(.+?)(?:\\*|_){2}/g,\n        action: (text, selection, pattern, lineStart) => {\n          let match = pattern.exec(text)\n\n          const annotatedText = match[0]\n          const matchedText = match[1]\n          const startIndex = lineStart + match.index\n\n          if (text.match(/^([*_ \\n]+)$/g)) return\n\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, annotatedText.length)\n            this.quill.insertText(startIndex, matchedText, {bold: true})\n            this.quill.format('bold', false)\n          }, 0)\n        }\n      },\n      {\n        name: 'italic',\n        pattern: /(?:\\*|_){1}(.+?)(?:\\*|_){1}/g,\n        action: (text, selection, pattern, lineStart) => {\n          let match = pattern.exec(text)\n\n          const annotatedText = match[0]\n          const matchedText = match[1]\n          const startIndex = lineStart + match.index\n\n          if (text.match(/^([*_ \\n]+)$/g)) return\n\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, annotatedText.length)\n            this.quill.insertText(startIndex, matchedText, {italic: true})\n            this.quill.format('italic', false)\n          }, 0)\n        }\n      },\n      {\n        name: 'strikethrough',\n        pattern: /(?:~~)(.+?)(?:~~)/g,\n        action: (text, selection, pattern, lineStart) => {\n          let match = pattern.exec(text)\n\n          const annotatedText = match[0]\n          const matchedText = match[1]\n          const startIndex = lineStart + match.index\n\n          if (text.match(/^([*_ \\n]+)$/g)) return\n\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, annotatedText.length)\n            this.quill.insertText(startIndex, matchedText, {strike: true})\n            this.quill.format('strike', false)\n          }, 0)\n        }\n      },\n      {\n        name: 'code',\n        pattern: /(?:`)(.+?)(?:`)/g,\n        action: (text, selection, pattern, lineStart) => {\n          let match = pattern.exec(text)\n\n          const annotatedText = match[0]\n          const matchedText = match[1]\n          const startIndex = lineStart + match.index\n\n          if (text.match(/^([*_ \\n]+)$/g)) return\n\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, annotatedText.length)\n            this.quill.insertText(startIndex, matchedText, {code: true})\n            this.quill.format('code', false)\n            this.quill.insertText(this.quill.getSelection(), ' ')\n          }, 0)\n        }\n      },\n      {\n        name: 'hr',\n        pattern: /^([-*]\\s?){3}/g,\n        action: (text, selection) => {\n          const startIndex = selection.index - text.length;\n          setTimeout(() => {\n            this.quill.deleteText(startIndex, text.length)\n\n            this.quill.insertEmbed(startIndex + 1, 'hr', true, Quill.sources.USER);\n            this.quill.insertText(startIndex + 2, \"\\n\", Quill.sources.SILENT);\n            this.quill.setSelection(startIndex + 2, Quill.sources.SILENT);\n          }, 0)\n        }\n      },\n      {\n        name: 'asterisk-ul',\n        pattern: /^(\\*|\\+)\\s$/g,\n        action: (text, selection, pattern) => {\n          setTimeout(() => {\n            this.quill.formatLine(selection.index, 1, 'list', 'unordered')\n            this.quill.deleteText(selection.index - 2, 2)\n          }, 0)\n        }\n      },\n      {\n        name: 'image',\n        pattern: /(?:!\\[(.+?)\\])(?:\\((.+?)\\))/g,\n        action: (text, selection, pattern) => {\n          const startIndex = text.search(pattern)\n          const matchedText = text.match(pattern)[0]\n          // const hrefText = text.match(/(?:!\\[(.*?)\\])/g)[0]\n          const hrefLink = text.match(/(?:\\((.*?)\\))/g)[0]\n          const start = selection.index - matchedText.length - 1\n          if (startIndex !== -1) {\n            setTimeout(() => {\n              this.quill.deleteText(start, matchedText.length)\n              this.quill.insertEmbed(start, 'image', hrefLink.slice(1, hrefLink.length - 1))\n            }, 0)\n          }\n        }\n      },\n      {\n        name: 'link',\n        pattern: /(?:\\[(.+?)\\])(?:\\((.+?)\\))/g,\n        action: (text, selection, pattern) => {\n          const startIndex = text.search(pattern)\n          const matchedText = text.match(pattern)[0]\n          const hrefText = text.match(/(?:\\[(.*?)\\])/g)[0]\n          const hrefLink = text.match(/(?:\\((.*?)\\))/g)[0]\n          const start = selection.index - matchedText.length - 1\n          if (startIndex !== -1) {\n            setTimeout(() => {\n              this.quill.deleteText(start, matchedText.length)\n              this.quill.insertText(start, hrefText.slice(1, hrefText.length - 1), 'link', hrefLink.slice(1, hrefLink.length - 1))\n            }, 0)\n          }\n        }\n      }\n    ]\n\n    // Handler that looks for insert deltas that match specific characters\n    this.quill.on('text-change', (delta, oldContents, source) => {\n      for (let i = 0; i < delta.ops.length; i++) {\n        if (delta.ops[i].hasOwnProperty('insert')) {\n          if (delta.ops[i].insert === ' ') {\n            this.onSpace()\n          } else if (delta.ops[i].insert === '\\n') {\n            this.onEnter()\n          }\n        }\n      }\n    })\n  }\n\n  onSpace () {\n    const selection = this.quill.getSelection()\n    if (!selection) return\n    const [line, offset] = this.quill.getLine(selection.index)\n    const text = line.domNode.textContent\n    const lineStart = selection.index - offset\n    if (typeof text !== 'undefined' && text) {\n      for (let match of this.matches) {\n        const matchedText = text.match(match.pattern)\n        if (matchedText) {\n          // We need to replace only matched text not the whole line\n          console.log('matched', match.name, text)\n          match.action(text, selection, match.pattern, lineStart)\n          return\n        }\n      }\n    }\n  }\n\n  onEnter () {\n    let selection = this.quill.getSelection()\n    if (!selection) return\n    const [line, offset] = this.quill.getLine(selection.index)\n    const text = line.domNode.textContent + ' '\n    const lineStart = selection.index - offset\n    selection.length = selection.index++\n    if (typeof text !== 'undefined' && text) {\n      for (let match of this.matches) {\n        const matchedText = text.match(match.pattern)\n        if (matchedText) {\n          console.log('matched', match.name, text)\n          match.action(text, selection, match.pattern, lineStart)\n          return\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = MarkdownShortcuts\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const getHorizontalRule = (quill) => {\n  let BlockEmbed = quill.import('blots/block/embed');\n\n  class HorizontalRule extends BlockEmbed {}\n  HorizontalRule.blotName = 'hr';\n  HorizontalRule.tagName = 'hr';\n\n  return HorizontalRule;  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/formats/hr.js"],"sourceRoot":""}